{% extends 'core/index.html' %}
{% load static %}
{% block content %}

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-3">
            <form method="post" class="form mt-5">
                {% csrf_token %}
                <div class="form-group">
                    <label for="car">Car</label>
                    <select id="car" name="car" class="form-control" required>
                        <option value="">Select a car</option>
                        {% for car in form.fields.car.queryset %}
                            <option value="{{ car.id }}" {% if car.id == reservation.car.id %}selected{% endif %}>{{ car.name }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group">
                    <label for="from_date">From Date</label>
                    <input type="text" id="from_date" name="from_date" placeholder="Select a Date" class="form-control flatpickr-input" value="{{ reservation.from_date|date:'Y-m-d' }}" required />
                </div>
                <div class="form-group">
                    <label for="to_date">To Date</label>
                    <input type="text" id="to_date" name="to_date" placeholder="Select a Date" class="form-control flatpickr-input" value="{{ reservation.to_date|date:'Y-m-d' }}" required />
                </div>
                <div class="form-group">
                    <label for="note">Note</label>
                    <textarea id="note" name="note" class="form-control">{{ reservation.note }}</textarea>
                </div>
                <div class="text-center">
                    <input type="submit" value="UPDATE" class="btn custom-login">
                </div>
            </form>
        </div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        
        
        flatpickr('.flatpickr-input', {
            dateFormat: 'Y-m-d',  // Format to send to the server
            altInput: true,       // Enables the display of an alternative input
            altFormat: 'd-m-Y',      
            enableTime: false,
            // disable: disableDates,
            minDate: "today",
            "locale": {
        "firstDayOfWeek": 1 // start week on Monday
    }
        });
    });
</script>
{% endblock %}